{
  "schema": "agent-handoff/test-results@v1",
  "generatedAt": "2025-10-22T13:15:42.298Z",
  "status": "passed",
  "total": 4,
  "failureCount": 0,
  "results": [
    {
      "command": "node tools/npm/run-script.mjs priority:test",
      "exitCode": 0,
      "stdout": "\n> compare-vi-cli-action@0.5.2-rc1 priority:test\n> node --test tools/priority/__tests__/*.mjs\n\nTAP version 13\n# Subtest: shouldWriteCache returns true when no previous cache exists\nok 1 - shouldWriteCache returns true when no previous cache exists\n  ---\n  duration_ms: 0.8782\n  type: 'test'\n  ...\n# Subtest: shouldWriteCache ignores cachedAtUtc-only differences\nok 2 - shouldWriteCache ignores cachedAtUtc-only differences\n  ---\n  duration_ms: 0.8617\n  type: 'test'\n  ...\n# Subtest: shouldWriteCache detects meaningful differences\nok 3 - shouldWriteCache detects meaningful differences\n  ---\n  duration_ms: 0.2321\n  type: 'test'\n  ...\n# Subtest: dry-run helpers create metadata and restore branch context\nok 4 - dry-run helpers create metadata and restore branch context\n  ---\n  duration_ms: 6251.7675\n  type: 'test'\n  ...\n# Subtest: parseGitRemoteUrl handles SSH remotes\nok 5 - parseGitRemoteUrl handles SSH remotes\n  ---\n  duration_ms: 1.7031\n  type: 'test'\n  ...\n# Subtest: parseGitRemoteUrl handles HTTPS remotes\nok 6 - parseGitRemoteUrl handles HTTPS remotes\n  ---\n  duration_ms: 0.4896\n  type: 'test'\n  ...\n# Subtest: parseGitRemoteUrl handles git+https repository URLs\nok 7 - parseGitRemoteUrl handles git+https repository URLs\n  ---\n  duration_ms: 0.2853\n  type: 'test'\n  ...\n# Subtest: parseGitRemoteUrl handles ssh protocol URLs\nok 8 - parseGitRemoteUrl handles ssh protocol URLs\n  ---\n  duration_ms: 1.4781\n  type: 'test'\n  ...\n# Subtest: parseGitRemoteUrl returns null for invalid remotes\nok 9 - parseGitRemoteUrl returns null for invalid remotes\n  ---\n  duration_ms: 0.7221\n  type: 'test'\n  ...\n# Subtest: handoff issue summary matches schema\nok 10 - handoff issue summary matches schema\n  ---\n  duration_ms: 119.3515\n  type: 'test'\n  ...\n# Subtest: handoff router matches schema\nok 11 - handoff router matches schema\n  ---\n  duration_ms: 30.721\n  type: 'test'\n  ...\n# Subtest: handoff hook summary matches schema\nok 12 - handoff hook summary matches schema\n  ---\n  duration_ms: 19.4146\n  type: 'test'\n  ...\n# Subtest: handoff release summary matches schema\nok 13 - handoff release summary matches schema\n  ---\n  duration_ms: 15.7491\n  type: 'test'\n  ...\n# Subtest: handoff test summary matches schema\nok 14 - handoff test summary matches schema\n  ---\n  duration_ms: 22.8968\n  type: 'test'\n  ...\n# Subtest: handoff session capsule matches schema\nok 15 - handoff session capsule matches schema\n  ---\n  duration_ms: 16.2356\n  type: 'test'\n  ...\n# Subtest: resolveProxyUrl selects HTTPS proxy when available\nok 16 - resolveProxyUrl selects HTTPS proxy when available\n  ---\n  duration_ms: 1.5709\n  type: 'test'\n  ...\n# Subtest: resolveProxyUrl falls back to HTTP proxy for HTTPS when needed\nok 17 - resolveProxyUrl falls back to HTTP proxy for HTTPS when needed\n  ---\n  duration_ms: 0.6342\n  type: 'test'\n  ...\n# Subtest: resolveProxyUrl respects NO_PROXY patterns and wildcards\nok 18 - resolveProxyUrl respects NO_PROXY patterns and wildcards\n  ---\n  duration_ms: 1.1205\n  type: 'test'\n  ...\n# Subtest: shouldBypassProxy handles IPv6 and port-specific exclusions\nok 19 - shouldBypassProxy handles IPv6 and port-specific exclusions\n  ---\n  duration_ms: 0.5247\n  type: 'test'\n  ...\n# Subtest: normalizeVersionInput handles tagged and untagged semver\nok 20 - normalizeVersionInput handles tagged and untagged semver\n  ---\n  duration_ms: 3.1663\n  type: 'test'\n  ...\n# Subtest: normalizeVersionInput rejects invalid versions\nok 21 - normalizeVersionInput rejects invalid versions\n  ---\n  duration_ms: 0.9859\n  type: 'test'\n  ...\n# Subtest: writeReleaseMetadata writes JSON to release directory\nok 22 - writeReleaseMetadata writes JSON to release directory\n  ---\n  duration_ms: 29.0746\n  type: 'test'\n  ...\n# Subtest: summarizeStatusCheckRollup normalizes check data\nok 23 - summarizeStatusCheckRollup normalizes check data\n  ---\n  duration_ms: 0.5923\n  type: 'test'\n  ...\n# Subtest: createSnapshot normalizes lists and produces stable digest\nok 24 - createSnapshot normalizes lists and produces stable digest\n  ---\n  duration_ms: 13.0188\n  type: 'test'\n  ...\n# Subtest: buildRouter honours policy map and default actions\nok 25 - buildRouter honours policy map and default actions\n  ---\n  duration_ms: 1.5019\n  type: 'test'\n  ...\n# Subtest: buildRouter adds fallback validation action when needed\nok 26 - buildRouter adds fallback validation action when needed\n  ---\n  duration_ms: 1.2925\n  type: 'test'\n  ...\n# Subtest: collectReleaseArtifacts gathers branch and finalize metadata\nok 27 - collectReleaseArtifacts gathers branch and finalize metadata\n  ---\n  duration_ms: 38.5739\n  type: 'test'\n  ...\n# Subtest: buildRouter adds finalize action when latest branch lacks finalize\nok 28 - buildRouter adds finalize action when latest branch lacks finalize\n  ---\n  duration_ms: 1.3069\n  type: 'test'\n  ...\n# Subtest: buildRouter suggests release branch creation when label present without metadata\nok 29 - buildRouter suggests release branch creation when label present without metadata\n  ---\n  duration_ms: 0.4179\n  type: 'test'\n  ...\n# Subtest: verify-release-branch succeeds when version/changelog updated\nok 30 - verify-release-branch succeeds when version/changelog updated\n  ---\n  duration_ms: 1269.6128\n  type: 'test'\n  ...\n# Subtest: verify-release-branch fails when changelog missing update\nok 31 - verify-release-branch fails when changelog missing update\n  ---\n  duration_ms: 1100.4128\n  type: 'test'\n  ...\n1..31\n# tests 31\n# suites 0\n# pass 31\n# fail 0\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 6401.4979",
      "stderr": "",
      "startedAt": "2025-10-22T13:15:32.908Z",
      "completedAt": "2025-10-22T13:15:39.787Z",
      "durationMs": 6879
    },
    {
      "command": "node tools/npm/run-script.mjs hooks:test",
      "exitCode": 0,
      "stdout": "\n> compare-vi-cli-action@0.5.2-rc1 hooks:test\n> node --test tools/hooks/__tests__/*.mjs\n\nTAP version 13\n# Subtest: detectPlane detects GitHub Ubuntu\nok 1 - detectPlane detects GitHub Ubuntu\n  ---\n  duration_ms: 0.8607\n  type: 'test'\n  ...\n# Subtest: detectPlane detects GitHub Windows\nok 2 - detectPlane detects GitHub Windows\n  ---\n  duration_ms: 0.1248\n  type: 'test'\n  ...\n# Subtest: detectPlane detects WSL\nok 3 - detectPlane detects WSL\n  ---\n  duration_ms: 0.1026\n  type: 'test'\n  ...\n# Subtest: detectPlane detects macOS\nok 4 - detectPlane detects macOS\n  ---\n  duration_ms: 0.1023\n  type: 'test'\n  ...\n# Subtest: detectPlane defaults to linux bash\nok 5 - detectPlane defaults to linux bash\n  ---\n  duration_ms: 0.1663\n  type: 'test'\n  ...\n# Subtest: resolveEnforcement respects explicit env\nok 6 - resolveEnforcement respects explicit env\n  ---\n  duration_ms: 0.1347\n  type: 'test'\n  ...\n# Subtest: resolveEnforcement defaults to fail on CI\nok 7 - resolveEnforcement defaults to fail on CI\n  ---\n  duration_ms: 0.1624\n  type: 'test'\n  ...\n# Subtest: resolveEnforcement defaults to warn locally\nok 8 - resolveEnforcement defaults to warn locally\n  ---\n  duration_ms: 0.0799\n  type: 'test'\n  ...\n# Subtest: normalizeSummary zeroes timestamp and duration and sorts steps\nok 9 - normalizeSummary zeroes timestamp and duration and sorts steps\n  ---\n  duration_ms: 1.1982\n  type: 'test'\n  ...\n1..9\n# tests 9\n# suites 0\n# pass 9\n# fail 0\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 126.8234",
      "stderr": "",
      "startedAt": "2025-10-22T13:15:39.789Z",
      "completedAt": "2025-10-22T13:15:40.425Z",
      "durationMs": 636
    },
    {
      "command": "node tools/npm/run-script.mjs semver:check",
      "exitCode": 0,
      "stdout": "\n> compare-vi-cli-action@0.5.2-rc1 semver:check\n> node tools/priority/validate-semver.mjs\n\n{\n  \"schema\": \"priority/semver-check@v1\",\n  \"version\": \"0.5.2-rc1\",\n  \"valid\": true,\n  \"issues\": [],\n  \"checkedAt\": \"2025-10-22T13:15:40.912Z\"\n}",
      "stderr": "",
      "startedAt": "2025-10-22T13:15:40.425Z",
      "completedAt": "2025-10-22T13:15:40.943Z",
      "durationMs": 518
    },
    {
      "command": "node tools/npm/run-script.mjs priority:policy",
      "exitCode": 0,
      "stdout": "\n> compare-vi-cli-action@0.5.2-rc1 priority:policy\n> node tools/priority/check-policy.mjs\n\nMerge policy check passed.",
      "stderr": "",
      "startedAt": "2025-10-22T13:15:40.943Z",
      "completedAt": "2025-10-22T13:15:42.297Z",
      "durationMs": 1354
    }
  ],
  "runner": {}
}
